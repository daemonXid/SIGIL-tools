<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ’¸ Expense Splitter | SIGIL TOOLS</title>
    <meta name="description" content="ë”ì¹˜í˜ì´ ê³„ì‚°ê¸° - íšŒì‹/ì—¬í–‰ ë¹„ìš©ì„ ê³µí‰í•˜ê²Œ ë‚˜ëˆ„ê³  ì¹´í†¡ ê³µìœ  ë©”ì‹œì§€ ìƒì„±">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            500: '#6366f1',
                            600: '#4f46e5',
                        },
                        dark: {
                            900: '#050510',
                            800: '#0a0a1b',
                            700: '#1a1a2e',
                        }
                    }
                }
            }
        }
    </script>
    
    <!-- Alpine.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: linear-gradient(135deg, #050510 0%, #0a0a1b 50%, #1a1a2e 100%);
            color: #e5e7eb;
            font-family: 'Inter', sans-serif;
            min-height: 100vh;
        }
        
        .gradient-text {
            background: linear-gradient(135deg, #10b981, #3b82f6, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 800;
        }
        
        .card {
            background: rgba(26, 26, 46, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: 1rem;
            padding: 1.5rem;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #10b981, #3b82f6);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.4);
        }
        
        .btn-secondary {
            background: rgba(99, 102, 241, 0.1);
            color: #a5b4fc;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            border: 1px solid rgba(99, 102, 241, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-secondary:hover {
            background: rgba(99, 102, 241, 0.2);
        }
        
        input, select {
            background: rgba(10, 10, 27, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.3);
            border-radius: 0.5rem;
            padding: 0.75rem;
            color: white;
            width: 100%;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: #6366f1;
        }
        
        .person-card {
            background: rgba(10, 10, 27, 0.6);
            border: 1px solid rgba(99, 102, 241, 0.3);
            border-radius: 0.75rem;
            padding: 1rem;
            transition: all 0.3s ease;
        }
        
        .person-card:hover {
            border-color: rgba(99, 102, 241, 0.5);
            background: rgba(10, 10, 27, 0.8);
        }
        
        .result-display {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(59, 130, 246, 0.2));
            border: 2px solid rgba(16, 185, 129, 0.4);
            border-radius: 1rem;
            padding: 2rem;
        }
        
        .amount-display {
            font-size: 3rem;
            font-weight: 800;
            background: linear-gradient(135deg, #10b981, #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .message-box {
            background: rgba(10, 10, 27, 0.9);
            border: 1px solid rgba(99, 102, 241, 0.3);
            border-radius: 0.75rem;
            padding: 1.5rem;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            line-height: 1.6;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .copy-indicator {
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
    </style>
</head>
<body x-data="expenseSplitter()" x-init="init()">
    <!-- Header -->
    <header class="sticky top-0 z-50 backdrop-blur-lg bg-dark-900/80 border-b border-white/10">
        <nav class="max-w-6xl mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <a href="../index.html" class="flex items-center gap-3 text-gray-400 hover:text-white transition-colors">
                    <span class="text-2xl">â†</span>
                    <span class="font-medium">í™ˆìœ¼ë¡œ</span>
                </a>
                <div class="flex items-center gap-3">
                    <span class="text-3xl">ğŸ’¸</span>
                    <h1 class="text-xl font-bold gradient-text">Expense Splitter</h1>
                </div>
            </div>
        </nav>
    </header>
    
    <!-- Main Content -->
    <main class="max-w-6xl mx-auto px-4 py-8">
        <div class="grid lg:grid-cols-2 gap-8">
            <!-- Input Section -->
            <div>
                <!-- Event Info -->
                <div class="card mb-6">
                    <h3 class="text-lg font-bold mb-4">ğŸ“‹ ì •ì‚° ì •ë³´</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm text-gray-400 mb-2">í–‰ì‚¬ ì´ë¦„</label>
                            <input 
                                type="text" 
                                x-model="eventName"
                                placeholder="ì˜ˆ: íŒ€ íšŒì‹, MT ì—¬í–‰"
                                @blur="saveData()">
                        </div>
                        <div>
                            <label class="block text-sm text-gray-400 mb-2">ì´ ê¸ˆì•¡</label>
                            <input 
                                type="number" 
                                x-model.number="totalAmount"
                                placeholder="100000"
                                @input="calculate(); saveData()">
                        </div>
                    </div>
                </div>
                
                <!-- Add Person -->
                <div class="card mb-6">
                    <h3 class="text-lg font-bold mb-4">ğŸ‘¥ ì°¸ê°€ì ê´€ë¦¬</h3>
                    <div class="flex gap-2 mb-4">
                        <input 
                            type="text" 
                            x-model="newPersonName"
                            @keyup.enter="addPerson()"
                            placeholder="ì´ë¦„ ì…ë ¥"
                            class="flex-1">
                        <button @click="addPerson()" class="btn-primary px-6">
                            ì¶”ê°€
                        </button>
                    </div>
                    
                    <!-- Person List -->
                    <div class="space-y-3">
                        <template x-if="people.length === 0">
                            <div class="text-center py-6 text-gray-500">
                                <div class="text-4xl mb-2">ğŸ‘¤</div>
                                <p class="text-sm">ì°¸ê°€ìë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”</p>
                            </div>
                        </template>
                        
                        <template x-for="(person, index) in people" :key="person.id">
                            <div class="person-card">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center gap-3">
                                        <div class="text-2xl">ğŸ‘¤</div>
                                        <div>
                                            <div class="font-medium" x-text="person.name"></div>
                                            <div class="text-sm text-gray-400">
                                                <span x-text="formatCurrency(person.share)"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <button @click="removePerson(index)" 
                                            class="text-red-400 hover:text-red-300 text-lg">
                                        âœ•
                                    </button>
                                </div>
                            </div>
                        </template>
                    </div>
                </div>
                
                <!-- Quick Add Buttons -->
                <div class="card">
                    <h4 class="text-sm font-medium text-gray-400 mb-3">ë¹ ë¥¸ ì¶”ê°€</h4>
                    <div class="flex flex-wrap gap-2">
                        <button @click="addMultiplePeople(3)" class="btn-secondary text-sm py-2">
                            ğŸ‘¥ 3ëª…
                        </button>
                        <button @click="addMultiplePeople(4)" class="btn-secondary text-sm py-2">
                            ğŸ‘¥ 4ëª…
                        </button>
                        <button @click="addMultiplePeople(5)" class="btn-secondary text-sm py-2">
                            ğŸ‘¥ 5ëª…
                        </button>
                        <button @click="clearAll()" class="btn-secondary text-sm py-2 ml-auto">
                            ğŸ—‘ï¸ ì „ì²´ ì´ˆê¸°í™”
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Result Section -->
            <div>
                <!-- Result Display -->
                <div class="result-display mb-6">
                    <div class="text-center">
                        <div class="text-sm text-gray-400 mb-2">1ì¸ë‹¹ ê¸ˆì•¡</div>
                        <div class="amount-display" x-text="formatCurrency(perPersonAmount)">
                            â‚©0
                        </div>
                        <div class="mt-4 grid grid-cols-2 gap-4">
                            <div>
                                <div class="text-lg font-bold text-green-400" x-text="people.length">0</div>
                                <div class="text-xs text-gray-400">ì°¸ê°€ì</div>
                            </div>
                            <div>
                                <div class="text-lg font-bold text-blue-400" x-text="formatCurrency(totalAmount)">â‚©0</div>
                                <div class="text-xs text-gray-400">ì´ì•¡</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Kakao Message -->
                <div class="card">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-bold">ğŸ’¬ ì¹´í†¡ ê³µìœ  ë©”ì‹œì§€</h3>
                        <button 
                            @click="copyMessage()"
                            class="btn-primary text-sm flex items-center gap-2">
                            <span x-show="!copied">ğŸ“‹ ë³µì‚¬</span>
                            <span x-show="copied" class="copy-indicator">âœ… ë³µì‚¬ë¨!</span>
                        </button>
                    </div>
                    
                    <div class="message-box" x-text="generatedMessage"></div>
                    
                    <div class="mt-4 p-3 bg-blue-500/10 border border-blue-500/30 rounded-lg text-sm">
                        <span class="text-blue-300">ğŸ’¡ Tip:</span>
                        <span class="text-gray-300 ml-2">ë©”ì‹œì§€ë¥¼ ë³µì‚¬í•˜ì—¬ ì¹´ì¹´ì˜¤í†¡ì— ë¶™ì—¬ë„£ìœ¼ì„¸ìš”!</span>
                    </div>
                </div>
                
                <!-- Additional Info -->
                <div class="card mt-6 bg-gradient-to-br from-purple-500/10 to-pink-500/10 border-purple-500/30">
                    <h4 class="font-bold mb-3 flex items-center gap-2">
                        <span>ğŸ§®</span>
                        <span>ì •ì‚° íŒ</span>
                    </h4>
                    <ul class="text-sm text-gray-300 space-y-2">
                        <li>â€¢ ì†¡ê¸ˆ ì‹œ ë©”ëª¨ì— í–‰ì‚¬ëª…ì„ ì ì–´ì£¼ì„¸ìš”</li>
                        <li>â€¢ ë°˜ì˜¬ë¦¼ ê¸ˆì•¡ìœ¼ë¡œ ì†¡ê¸ˆí•´ë„ ê´œì°®ì•„ìš”</li>
                        <li>â€¢ ì˜ìˆ˜ì¦ ì‚¬ì§„ì„ ê°™ì´ ê³µìœ í•˜ë©´ íˆ¬ëª…í•´ìš”</li>
                        <li>â€¢ ì£¼ìµœì ê³„ì¢Œë²ˆí˜¸ë¥¼ ë©”ì‹œì§€ì— ì¶”ê°€í•˜ì„¸ìš”</li>
                    </ul>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Alpine.js App Logic -->
    <script>
        function expenseSplitter() {
            return {
                eventName: '',
                totalAmount: 0,
                people: [],
                newPersonName: '',
                copied: false,
                
                get perPersonAmount() {
                    if (this.people.length === 0) return 0;
                    return Math.ceil(this.totalAmount / this.people.length);
                },
                
                get generatedMessage() {
                    if (this.people.length === 0) {
                        return 'ì°¸ê°€ìë¥¼ ì¶”ê°€í•˜ë©´ ë©”ì‹œì§€ê°€ ìƒì„±ë©ë‹ˆë‹¤.';
                    }
                    
                    const title = this.eventName || 'ì •ì‚°';
                    let message = `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
                    message += `ğŸ’¸ ${title} ì •ì‚° ì•ˆë‚´\n`;
                    message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n`;
                    message += `ì´ ê¸ˆì•¡: ${this.formatCurrency(this.totalAmount)}\n`;
                    message += `ì°¸ê°€ì: ${this.people.length}ëª…\n`;
                    message += `1ì¸ë‹¹: ${this.formatCurrency(this.perPersonAmount)}\n\n`;
                    message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
                    message += `ğŸ“‹ ì°¸ê°€ì ëª…ë‹¨\n`;
                    message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n`;
                    
                    this.people.forEach((person, index) => {
                        message += `${index + 1}. ${person.name}\n`;
                        message += `   ${this.formatCurrency(person.share)}\n\n`;
                    });
                    
                    message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
                    message += `ğŸ’³ ì†¡ê¸ˆ ì •ë³´\n`;
                    message += `ì£¼ìµœì: (ê³„ì¢Œë²ˆí˜¸ ì…ë ¥)\n`;
                    message += `ë©”ëª¨: ${title}\n`;
                    message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n`;
                    message += `* ì†¡ê¸ˆ ì™„ë£Œ ì‹œ ëŒ“ê¸€ë¡œ ì•Œë ¤ì£¼ì„¸ìš”!\n`;
                    message += `* ìƒì„±: SIGIL TOOLS ğŸ’¸`;
                    
                    return message;
                },
                
                init() {
                    this.loadData();
                },
                
                addPerson() {
                    if (!this.newPersonName.trim()) {
                        alert('ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
                        return;
                    }
                    
                    this.people.push({
                        id: Date.now(),
                        name: this.newPersonName.trim(),
                        share: 0
                    });
                    
                    this.newPersonName = '';
                    this.calculate();
                    this.saveData();
                },
                
                removePerson(index) {
                    this.people.splice(index, 1);
                    this.calculate();
                    this.saveData();
                },
                
                addMultiplePeople(count) {
                    for (let i = 0; i < count; i++) {
                        this.people.push({
                            id: Date.now() + i,
                            name: `ì°¸ê°€ì ${this.people.length + 1}`,
                            share: 0
                        });
                    }
                    this.calculate();
                    this.saveData();
                },
                
                calculate() {
                    const perPerson = this.perPersonAmount;
                    this.people.forEach(person => {
                        person.share = perPerson;
                    });
                },
                
                formatCurrency(amount) {
                    return `â‚©${amount.toLocaleString('ko-KR')}`;
                },
                
                async copyMessage() {
                    try {
                        await navigator.clipboard.writeText(this.generatedMessage);
                        this.copied = true;
                        setTimeout(() => {
                            this.copied = false;
                        }, 2000);
                    } catch (err) {
                        alert('ë³µì‚¬ ì‹¤íŒ¨: ' + err.message);
                    }
                },
                
                clearAll() {
                    if (confirm('ëª¨ë“  ë°ì´í„°ë¥¼ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                        this.eventName = '';
                        this.totalAmount = 0;
                        this.people = [];
                        this.saveData();
                    }
                },
                
                saveData() {
                    const data = {
                        eventName: this.eventName,
                        totalAmount: this.totalAmount,
                        people: this.people
                    };
                    localStorage.setItem('expense-splitter-data', JSON.stringify(data));
                },
                
                loadData() {
                    const saved = localStorage.getItem('expense-splitter-data');
                    if (saved) {
                        const data = JSON.parse(saved);
                        this.eventName = data.eventName || '';
                        this.totalAmount = data.totalAmount || 0;
                        this.people = data.people || [];
                        this.calculate();
                    }
                }
            }
        }
    </script>
</body>
</html>
